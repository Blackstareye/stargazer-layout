<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta
  name="description"
  content="{{ .Description | default site.Params.SiteDescription }}"
/>
<meta name="title" content="{{ .Title | default site.Params.Title }}" />
{{/* <meta name="keywords" content="{{ site.Params.keywords }}" /> */}}
{{ if .Site.Params.useCanonify }}
  <link rel="canonical" href="{{ site.BaseURL }}" />
{{ end }}

{{ template "_internal/opengraph.html" . }}
{{ template "_internal/twitter_cards.html" . }}

<title>
  {{ if .IsHome }}
    {{ site.Title }}
  {{ else }}
    {{ printf "%s | %s" .Title site.Title }}
  {{ end }}

</title>


{{/*  are there scratches which dont want css at all ?  */}}
{{ $nocss_custom := $.Store.Get "nocss_custom" | default false }}
{{ $nocss_vendor := $.Store.Get "nocss_vendor" | default false }}


{{ range site.Params.regex_folders }}
  {{ with .vendor }}
    {{ if not $nocss_vendor}} 
      {{ range .css }}
        {{ partial "head/css_vendor.html" . }}
      {{ end }}
    {{ end }}
    {{ partial "partials/inline/head/function/js" (dict "head" .head) }}
  {{ end }}
  {{ with .custom }}
    {{/*  TODO auto import  */}}
    {{ if not $nocss_custom}} 
      {{ range .css }}
        {{ partial "head/css_custom.html" . }}
      {{ end }}
    {{ end }}
    {{ partial "partials/inline/head/function/js" (dict "head" .head) }}
  {{ end }}
{{ end }}

<script>
  var themeColor = null;
  {{ with site.Params.themeColor }}
  themeColor = {{ .}};
  {{ end }}
</script>

{{ define "partials/inline/head/function/js"}}
  {{ with .head }}
        {{ range .js }}
          {{ partial "head/js_vendor.html" (dict "src" . "module" false) }}
        {{ end }}
        {{ range .jsmodules }}
          {{ partial "head/js_vendor.html" (dict "src" . "module" true) }}
        {{ end }}
  {{ end }}
{{ end }}
{{/*  {{ partial "head/css.html" . }}  */}}
{{/*  {{ partial "head/js.html" . }}  */}}
